package com.kartik.org;

public class LinkListRotate {

	static Node head;
	static class Node		{
		int data;
		Node next;
		Node (int d)
		{
			data = d;
			next = null;
		}
	}
	
	
	static void rotateleft(Node head,Node loop, int val) {	
		if (loop == null)return;
		rotateleft(head, loop.next, val - 1);
		if (loop.next == null&&val>0) 
			loop.next = head;
		if (val == 0)
			head = loop;
		else if (val == 1) 
			loop.next=null;
		}
	
		static void leftRotate(Node head, int val) {
		rotateleft(head,head.next,val);
		}
	
	//function to print ll//
	public void printlist(){
		Node n = head;
		int count = 0;
		while(n!= null)
		{
			System.out.print(n.data + " > " );
			n = n.next;
			count++;
		}
		System.out.println("\nNo. of Nodes = " + count);
	}
	public void push(int i){
		Node new_node = new Node(i);
		new_node.next = head;
		head = new_node;
	}
	
	
	public static Node insertNode(int data, Node node) {
        Node rnode = null;
        if (node == null) {
            System.out.println("Inserted Node: " + data);
            rnode = new Node(data);
            rnode.next = rnode;
        } else {
            rnode = insertNode(node, node, data);
        }
        return rnode;
    }
	public static Node insertNode(Node firstNode, Node node, int data) {
        Node rnode = null;
        if (node.next != firstNode) {
            rnode = insertNode(firstNode, node.next, data);
        } else {
            System.out.println("Inserted Node: " + data);
            rnode = new Node(data);
            node.next = rnode;
            rnode.next = firstNode;
        }
        return rnode;
    }
	
	public Node rotate(int k){
		if(head == null)	return head;
		int count = 1;
		Node curr = head, n= head ,last= null;
		while(n.next!= null){
			last = n.next;
			n=n.next;
		}
		
		while(count<=k){
			last.next = head;
			head = head.next;
			last = curr;
			curr.next = null;
			curr = head ;
			count++;
		}
		
		return head;
	}
	
	public static void main (String[] args) {
		LinkListRotate ll = new LinkListRotate();
		Node curr = head;
		for ( int i = 60 ; i >= 10 ; i=i-10)
			//ll.push(i);
		insertNode(i, head);

		System.out.println("Generated Linked List: ");
		ll.printlist();
		System.out.println("Linked list after rotation: ");
		//ll.rotate(4);
		
		leftRotate(curr, 4);
		ll.printlist();
	}
}
